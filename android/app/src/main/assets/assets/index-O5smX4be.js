(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e){if(t.type!==`childList`)continue;for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var e=class{routes;constructor(){this.routes=new Map}route(e,t){this.routes.set(e,t)}navigate(e){let t=new URL(e,window.location.origin),n=t.pathname,r=t.searchParams,i=this.routes.get(n);if(i){let e={};for(let[t,n]of r.entries())e[t]?Array.isArray(e[t])?e[t].push(n):e[t]=[e[t],n]:e[t]=n;if(n==`/player`)return i(e);root.innerHTML=``,i(e)}else console.error(`No route found for path: ${n}`)}};const t=new e;var n=class{state={user:null};listeners=[];constructor(){this.state={user:null}}getUser(){return this.state.user}setUser(e){this.state.user=e,this.listeners.forEach(t=>t(e))}subscribe(e){this.listeners.push(e)}async authenticate(e){if(e&&(localStorage.setItem(`accessToken`,e.accessToken),localStorage.setItem(`refreshToken`,e.refreshToken)),localStorage.getItem(`accessToken`)==null)return;let n=await this.access();if(!n){console.error(`accessToken expired, trying to refresh`);let e=await this.refreshToken();if(!e)return t.navigate(`/auth`);n=await this.authenticate()}console.log(n),this.setUser(n)}async access(){let e=new FormData;e.append(`accessToken`,localStorage.getItem(`accessToken`));let t=await fetch(`http://localhost:5000/me`,{method:`GET`,headers:{Authorization:`Bearer ${localStorage.getItem(`accessToken`)}`}});if(t.ok){let e=await t.json();return e}else return localStorage.removeItem(`accessToken`),localStorage.removeItem(`refreshToken`),!1}async refreshToken(){let e=new FormData;e.append(`refreshToken`,localStorage.getItem(`refreshToken`));let t=await fetch(`http://localhost:5000/auth/refresh`,{method:`POST`,body:e});if(t.ok){let{accessToken:e,refreshToken:n}=await t.json();return localStorage.setItem(`accessToken`,e),localStorage.setItem(`refreshToken`,n),!0}else return console.error(`Failed to refresh token`),!1}async logout(){localStorage.removeItem(`accessToken`),localStorage.removeItem(`refreshToken`),this.setUser(null)}};const r=new n;async function i(){let e=await fetch(`https://graphql.anilist.co`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify({query:`
      query {
        Page(page: 0, perPage: 30) {
          pageInfo {
            hasNextPage
            currentPage
          }
          media(season: SUMMER, seasonYear: ${new Date().getFullYear()}, type: ANIME, sort: POPULARITY_DESC) {
            id
            title {
              romaji
              english
              native
            }
            startDate {
              year
              month
              day
            }
            endDate {
              year
              month
              day
            }
            season
            seasonYear
            episodes
            status
            genres
            averageScore
            coverImage {
              large
              medium
            }
            bannerImage
            description
          }
        }
      }
      `})}),t=await e.json();return t.data.Page.media}async function a(e){let t=await fetch(`https://graphql.anilist.co`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify({query:`
      query {
        Media (id: ${e}, type: ANIME) {
          id
          title {
            romaji
            english
            native
          }
          bannerImage
          coverImage {
            large
          }
          trailer {
            id
            site
            thumbnail
          }
          description
          genres
          status
          duration
          episodes
          averageScore
          popularity
          siteUrl
          relations {
              edges {
                relationType
              }
              nodes {
                id
                type
                title {
                  romaji
                }
                coverImage {
                  large
                }
              }
            }
        }
      }
      `})}),n=await t.json();return n.data.Media}async function o(e){let t=await fetch(`https://graphql.anilist.co`,{method:`POST`,headers:{"Content-Type":`application/json`,Accept:`application/json`},body:JSON.stringify({query:`
      query {
      Page (page: 0, perPage: 10) {
          media (search: "${e}", type: ANIME) {
            id
            title {
              romaji
            }
          }
        }
      }
      `})}),n=await t.json();return n.data.Page.media}async function s(e){let n=document.createElement(`div`);n.className=`h-full w-full p-4`,document.root.appendChild(n);let r=document.createElement(`div`);r.className=`relative h-96 w-full overflow-hidden flex items-center`;let a=document.createElement(`div`);a.className=`absolute h-fit w-full flex space-x-4 transition-transform duration-300`,r.appendChild(a);let o=document.createElement(`div`);o.className=`absolute left-1 h-12 w-12 flex items-center justify-center bg-[#000000]/50 rounded-full cursor-pointer`,o.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>`;let s=document.createElement(`div`);s.className=`absolute right-1 h-12 w-12 flex items-center justify-center bg-[#000000]/50 rounded-full cursor-pointer`,s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>`,r.appendChild(o),r.appendChild(s);let c=0,l=256,u=16,d=()=>Math.floor(r.offsetWidth/(l+u)),f=()=>{let e=c*(l+u);a.style.transform=`translateX(-${e}px)`};s.addEventListener(`click`,()=>{let e=d(),t=Math.max(0,a.children.length-e);c<t&&(c=Math.min(c+e,t),f())}),o.addEventListener(`click`,()=>{if(c>0){let e=d();c=Math.max(c-e,0),f()}}),n.appendChild(r);let p=await i(),m=document.createDocumentFragment();p.forEach(e=>{let n=document.createElement(`div`);n.className=`h-fit w-64 shrink-0`;let r=document.createElement(`img`);r.src=e.coverImage.large,r.className=`w-full aspect-[1/1.35] object-cover rounded-lg`,r.loading=`lazy`,n.appendChild(r),n.addEventListener(`click`,()=>{t.navigate(`/anime?id=${e.id}`)}),m.appendChild(n)}),a.appendChild(m)}async function c(e){let t=await fetch(`https://api.ani.zip/mappings?anilist_id=${e}`),n=await t.json();return n}const l=[{from:`:`,to:``},{from:`Season 2`,to:`2nd Season`},{from:`Part 2`,to:`2nd Season`}];function u(e){let t=e;return l.map(e=>t=t.replaceAll(e.from,e.to)),console.log(t),t.trim()}async function d(e){let t=u(e),n=`https://animetoast.cc/?s=${t} Ger Dub`,r=await fetch(n);if(!r.ok)return;let i=await r.text(),a=new DOMParser().parseFromString(i,`text/html`),o=a.querySelector(`.blog-item .item-head h3 a`);if(!o)return;let s=o.getAttribute(`href`);console.debug(`Found URL for series: `,s);let c=await fetch(s);if(!c.ok)return;let l=await c.text(),d=new DOMParser().parseFromString(l,`text/html`),f=Array.from(d.querySelectorAll(`.nav-tabs li`)).filter(e=>e.querySelector(`a`)).map(e=>{let t=e.querySelector(`a`),n=t?.textContent?.trim()||``,r=t?.getAttribute(`href`),i=Array.from(d.querySelectorAll(`.tab-content ${r} a`)).map(e=>({label:e?.textContent?.trim()||``,url:e?.getAttribute(`href`),isBundle:(e?.textContent||``).includes(`-`)}));return{label:n,tab:r,episodes:i}});return{label:`AnimeToast`,url:`animetoast.cc`,icon:d.querySelector(`head link[rel="icon"]`)?.getAttribute(`href`)||``,episodes:f}}async function f(e){let t=await fetch(e),n=await t.text();if(!n)return;let r=new DOMParser().parseFromString(n,`text/html`),i=r.querySelector(`#player-embed a`)?.getAttribute(`href`)||``;return i}async function p(e){let t=await fetch(e),n=await t.text();if(!n)return;let r=new DOMParser().parseFromString(n,`text/html`),i=r.querySelector(`#player-embed a`)?.getAttribute(`href`)||``;if(t=await fetch(i),n=await t.text(),!n)return;r=new DOMParser().parseFromString(n,`text/html`);let a=Array.from(r.querySelectorAll(`.tab-content .active a`)).map(e=>{let t=e?.textContent?.trim()||``,n=e?.getAttribute(`href`);return{label:t,url:n}});return a}function m(e,n){let r=document.createElement(`div`);if(r.className=`relative h-32 w-full bg-[#0c0c0c] flex overflow-hidden rounded-xl cursor-pointer`,e.image){let t=document.createElement(`img`);t.src=e.image,t.className=`h-full aspect-video object-cover`,r.appendChild(t)}let i=document.createElement(`div`);i.className=`h-full w-full space-y-4 p-4 overflow-hidden`;let a=document.createElement(`h2`);a.className=`text-xl font-bold truncate`,a.textContent=`${e.episode}. ${e.title.en||``}`||`Episode ${n+1}`,i.appendChild(a);let o=document.createElement(`p`);o.className=`text-[10px] text-neutral-600 truncate`,o.textContent=e.overview,i.appendChild(o);let s=document.createElement(`div`);return s.className=`absolute bottom-4 right-4`,s.innerHTML=`<svg aria-hidden="true" class="w-4 h-4 text-[#f0f0f0] animate-spin dark:text-[#0d0d0d] fill-[#a0a0a0]" viewBox="0 0 100 101" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z" fill="currentColor"/>
          <path d="M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z" fill="currentFill"/>
      </svg>`,r.appendChild(s),r.updateSource=function(n){if(!n&&typeof n==`boolean`){s.innerHTML=``;return}else if(typeof n==`boolean`)return;s.innerHTML=`<img src=${n.icon} class="size-4 object-cover">`,r.addEventListener(`click`,async()=>{t.navigate(`/player?url=${n.url}&episodeNumber=${e.episode}&isBundle=${n.isBundle}${n.isBundle?`&bundleEpisodeNumber=${n.bundleEpisodeNumber}`:``}`)})},r.appendChild(i),r}async function h(e){let n=document.createElement(`div`);n.className=`relative h-full w-full px-12 pb-4 space-y-4 overflow-y-scroll`,document.root.appendChild(n);let[r,i]=await Promise.all([a(e.id),c(e.id)]),o=d(r.title.romaji);o.then(e=>console.debug(e));let s=document.createElement(`div`);s.className=`h-fit w-full`;let l=document.createElement(`div`);l.className=`absolute -z-1 top-0 left-0 right-0 w-full h-96 object-cover`;let u=document.createElement(`img`);u.className=`w-full h-full object-cover object-center overflow-hidden`,u.src=r.bannerImage||r.trailer.thumbnail,l.appendChild(u),s.appendChild(l);let f=document.createElement(`div`);f.className=`absolute inset-0 bg-gradient-to-t from-black to-transparent`,l.appendChild(f),s.appendChild(l);let p=document.createElement(`div`);p.className=`h-fit w-full space-y-4 mt-64 flex`;let h=document.createElement(`div`);h.className=`w-56 h-fit shrink-0 space-y-6`;let g=document.createElement(`img`);g.src=r.coverImage.large,g.className=`w-full aspect-[1/1.35] object-center rounded-xl`,h.appendChild(g);let _=document.createElement(`div`);_.className=`w-full py-2 rounded-xl bg-[#0d0d0d] text-white flex items-center justify-center`,_.textContent=`Add to List`,h.appendChild(_),p.appendChild(h);let v=document.createElement(`div`);v.className=`w-full h-fit mt-18 p-4 space-y-4`;let y=document.createElement(`h1`);y.className=`text-4xl font-bold flex items-center space-x-4`,y.textContent=r.title.romaji;let b=document.createElement(`div`);b.className=`flex items-center space-x-4`;let x=[{text:`${r.episodes} Episodes`}];x.map(e=>{let t=document.createElement(`span`);t.textContent=e.text,t.className=`px-4 py-2 text-sm rounded-md bg-[#0d0d0d] text-white`,b.appendChild(t)}),o.then(e=>{if(e?.languages){let t=document.createElement(`span`);t.textContent=e.languages.replace(/[()]/g,``),t.className=`px-4 py-2 text-sm rounded-md bg-[#0d0d0d] text-white`,b.appendChild(t)}});let S=document.createElement(`div`);S.className=`text-sm text-neutral-600`,S.innerHTML=r.description.substring(0,r.description.indexOf(`(Source:`));let C=document.createElement(`div`);C.className=`flex items-center space-x-4`,r.genres.map(e=>{let t=document.createElement(`span`);t.textContent=e,t.className=`px-4 py-2 text-sm rounded-md bg-[#0d0d0d] text-white`,C.appendChild(t)}),v.appendChild(y),v.appendChild(b),v.appendChild(S),v.appendChild(C),p.appendChild(v),s.appendChild(p),n.appendChild(s);let w=document.createElement(`div`);w.className=`w-full h-fit space-y-4`;let T=document.createElement(`h2`);T.className=`text-2xl font-bold`,T.textContent=`Relations`,w.appendChild(T);let E=document.createElement(`div`);E.className=`grid grid-cols-3 gap-4`,w.appendChild(E),r.relations.nodes.map((e,n)=>{if(e.type!==`ANIME`)return;let i=document.createElement(`div`);i.className=`h-48 w-full bg-[#0d0d0d] flex overflow-hidden rounded-xl cursor-pointer`;let a=document.createElement(`img`);a.src=e.coverImage.large,a.className=`h-full aspect-[1/1.35] object-cover object-center`;let o=document.createElement(`div`);o.className=`w-3/4 h-full p-4 space-y-4`;let s=document.createElement(`h3`);s.className=`text-xl text-gray-400`,s.textContent=r.relations.edges[n].relationType;let c=document.createElement(`h3`);c.className=`text-xl font-bold`,c.textContent=e.title.romaji,o.appendChild(s),o.appendChild(c),i.appendChild(a),i.appendChild(o),i.addEventListener(`click`,()=>{t.navigate(`/anime?id=${e.id}`)}),E.appendChild(i)}),n.appendChild(w);let D=document.createElement(`div`);D.className=`w-full h-fit space-y-4`;let O=document.createElement(`div`);O.className=`p-1 bg-[#0d0d0d] rounded-xl flex justify-center w-fit`;let k=document.createElement(`div`);k.className=`w-full h-fit`,D.appendChild(O),D.appendChild(k);let A=[{label:`Episodes`,handler:M,default:!0},{label:`Threads`,handler:()=>{}}],j=[];A.map(e=>{let t=document.createElement(`div`);t.className=`px-4 py-2 rounded-md text-neutral-600 font-semibold cursor-pointer`,t.textContent=e.label,O.appendChild(t),j.push(t),t.addEventListener(`click`,()=>{j.forEach(e=>{e.classList.remove(`bg-white`,`text-black`)}),t.classList.add(`bg-white`,`text-black`),k.innerHTML=``,e.handler()}),e.default&&t.click()}),n.appendChild(D);function M(){let e=document.createElement(`div`);e.className=`h-fit w-full grid grid-cols-2 gap-4`,k.appendChild(e);let t=0,n=12,r=document.createElement(`div`);r.className=`flex itens-center space-x-4 w-fit mt-4 ml-auto`;let a=document.createElement(`div`);a.className=`bg-[#0d0d0d] text-white px-4 py-2 rounded-lg cursor-pointer`,a.textContent=`Prev`;let s=document.createElement(`div`);s.className=`bg-[#0d0d0d] text-white px-4 py-2 rounded-lg cursor-pointer`,s.textContent=(t+1).toString();let c=document.createElement(`div`);c.className=`bg-[#0d0d0d] text-white px-4 py-2 rounded-lg cursor-pointer`,c.textContent=`Next`,r.append(a,s,c),a.addEventListener(`click`,()=>{t!=0&&(t--,s.textContent=(t+1).toString(),l())}),c.addEventListener(`click`,()=>{console.log(Math.ceil(Object.values(i.episodes).length/n)-1),!(t>=i.episodeCount/n-1)&&(t++,s.textContent=(t+1).toString(),l())}),k.appendChild(r),l();function l(){e.innerHTML=``,Object.values(i.episodes).filter(e=>e.episode).map((r,i)=>{if(isNaN(parseInt(r.episode))||t*n>i||i>=(t+1)*n)return;let a=m(r,i);e.appendChild(a),o.then(e=>{if(!e)return;let t=e.episodes.find(e=>e.label===`Voe`);if(!t?.episodes||t?.episodes.length==0)return a.updateSource?.(!1);let n=!1,i=0;if(t?.episodes[0].isBundle?(console.log(`Episodes are bundled`),n=t.episodes.find(e=>{let t=e.label.match(/E?(\d+)-E?(\d+)/),[n,a]=t?[parseInt(t[1]),parseInt(t[2])]:[0,0],o=parseInt(r.episode);return i=o-n+1,n<=o&&a>=o})):n=t.episodes.find(e=>e.label.replace(`Ep. `,``)==r.episode),!n)return a.updateSource?.(!1);a.updateSource?.({icon:e.icon,url:n.url,isBundle:n.isBundle,bundleEpisodeNumber:i})})})}}}async function g(e){function t(e){return e.replace(/[a-zA-Z]/g,function(e){let t=e.charCodeAt(0);return t>=65&&t<=90?String.fromCharCode((t-65+13)%26+65):t>=97&&t<=122?String.fromCharCode((t-97+13)%26+97):e})}function n(e){try{let t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);let r=new TextDecoder(`utf-8`);return r.decode(n)}catch(t){throw console.error(`Base64 decoding error:`,t),Error(`Invalid Base64 string starting with: ${e.substring(0,10)}...`)}}function r(e,t){let n=``;for(let r=0;r<e.length;r++)n+=String.fromCharCode(e.charCodeAt(r)-t);return n}let i=new DOMParser().parseFromString(await(await fetch(e)).text(),`text/html`),a=Array.from(i.querySelectorAll(`script`)).find(e=>e.text.includes(`window.location.href`)),o=a?.textContent,s=o?.indexOf(`window.location.href = '`),c=o?.indexOf(`;`,s);if(!s||!c||(o=o?.substring(s+24,c-1),!o))throw Error();let l=new DOMParser().parseFromString(await(await fetch(o)).text(),`text/html`),u=l.querySelector(`script[type='application/json']`)?.innerHTML;if(!u)throw Error();let d=JSON.parse(u)[0],f=null;try{let e=t(d),i=e.replaceAll(`@$`,``).replaceAll(`^^`,``).replaceAll(`~@`,``).replaceAll(`%?`,``).replaceAll(`*~`,``).replaceAll(`!!`,``).replaceAll(`#&`,``),a=n(i),o=r(a,3),s=o.split(``).reverse().join(``),c=n(s);try{let e=JSON.parse(c);`direct_access_url`in e?(f={mp4:e.direct_access_url},console.log(`[+] Found direct .mp4 URL in JSON.`)):`source`in e?(f={hls:e.source},console.log(`[+] Found fallback .m3u8 URL in JSON.`)):console.log(`[-] JSON found, but required keys ('direct_access_url' or 'source') are missing.`)}catch{console.log(`[-] Decoded string is not valid JSON. Attempting fallback regex search...`);let e=/https?:\/\/[^\s"]+\.mp4[^\s"]*/,t=/https?:\/\/[^\s"]+\.m3u8[^\s"]*/,n=c.match(e),r=c.match(t);n?(f={mp4:n[0]},console.log(`[+] Found base64 encoded MP4 URL via regex.`)):r?(f={hls:r[0]},console.log(`[+] Found base64 encoded HLS (m3u8) URL via regex.`)):console.log(`[-] Fallback regex search failed to find .mp4 or .m3u8 URLs.`)}}catch(e){console.error(`[-] Error while decoding MKGMa string: ${e.message||e}`)}return f||console.log(`[-] Could not extract any source URL.`),console.log(f),f}async function _(e){let t=document.querySelector(`#player`);t||(t=document.createElement(`div`),t.className=`absolute top-0 h-full w-full bg-[#0c0c0c]`,document.body.appendChild(t)),t.innerHTML=``,t.classList.add(`z-10`);let n=document.createElement(`video`);n.className=`h-full w-full`,n.autoplay=!0,t.appendChild(n);let r=document.createElement(`div`);r.className=`absolute bottom-0 left-0 right-0 h-24 bg-black bg-opacity-50 p-4 space-y-1`,t.appendChild(r);let i,a=!1;n.addEventListener(`canplay`,()=>{a=!0}),t.addEventListener(`mousemove`,()=>{r.classList.remove(`hidden`),i=null,!(!a||n.paused)&&(i=setTimeout(()=>{r.classList.add(`hidden`)},3e3))});let o=document.createElement(`div`);o.className=`h-fit flex items-center justify-between space-x-2`;let s=document.createElement(`div`);s.className=`text-white text-sm font-bold`,s.textContent=`Episode title`;let c=document.createElement(`div`);c.className=`text-white text-sm font-bold`,c.textContent=`00:00 | 00:00`,o.appendChild(s),o.appendChild(c),r.appendChild(o);let l=document.createElement(`div`);l.className=`relative h-1.5 w-full bg-gray-300 rounded`;let u=document.createElement(`div`);u.className=`absolute h-full bg-gray-500 rounded`,n.addEventListener(`progress`,()=>{if(n.buffered.length>0){let e=n.buffered.end(n.buffered.length-1),t=n.duration,r=e/t*100;u.style.width=`${r}%`}});let d=document.createElement(`div`);d.className=`absolute h-full bg-white rounded`,n.addEventListener(`timeupdate`,()=>{let e=n.currentTime,t=n.duration;c.textContent=`${new Date(n.currentTime*1e3).toISOString().substring(14,19)} | ${new Date(n.duration*1e3).toISOString().substring(14,19)}`;let r=e/t*100;d.style.width=`${r}%`}),l.appendChild(u),l.appendChild(d),r.appendChild(l);let m=document.createElement(`div`);m.className=`flex items-center space-x-2`;let h=document.createElement(`div`);h.className=`size-6`,h.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause size-6" viewBox="0 0 16 16">
    <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5"/>
  </svg>`,m.appendChild(h);function _(){n.paused?(n.play(),h.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause size-6" viewBox="0 0 16 16">
        <path d="M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5"/>
      </svg>`):(n.pause(),h.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play size-6" viewBox="0 0 16 16">
        <path d="M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z"/>
      </svg>`)}h.addEventListener(`click`,_),n.addEventListener(`click`,_);let v=document.createElement(`div`);v.className=`w-full`,m.appendChild(v);let y=document.createElement(`div`);y.className=`size-5`,y.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-fullscreen size-5" viewBox="0 0 16 16">
    <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5M.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5"/>
  </svg>`,m.appendChild(y);let b=!1;y.addEventListener(`click`,()=>{if(console.log(`fullscreenbutton clicked`),!b){window.electronAPI?.enterFullscreen(),b=!0;return}window.electronAPI?.exitFullscreen(),b=!1}),r.appendChild(m);let x=``;if(e.isBundle===`true`){let t=await p(e.url);if(!t)return console.warn(`No bundle found`);let n=t.find(t=>t.label.replace(`Ep. `,``)==e.bundleEpisodeNumber);if(!n)return console.warn(`No episode found`);x=await f(n.url)||``}else x=await f(e.url)||``;if(!x)return console.warn(`No link found`);console.log(`INFO: stream url -> `,x);let S=await g(x);n.src=S?.mp4}async function v(e){let n=document.createElement(`div`);n.className=`relative h-full w-full p-4 space-y-4 overflow-y-scroll`,document.root.appendChild(n);let r=document.createElement(`input`);r.className=`px-4 py-2 rounded-xl bg-[#0c0c0c] text-white border-none outline-none`,r.placeholder=`Search...`,n.appendChild(r),r.addEventListener(`keyup`,async e=>{if(e.keyCode==13){let e=await o(r.value);return a(e)}});let i=document.createElement(`div`);i.className=`grid grid-cols-1 gap-4`,n.appendChild(i);function a(e){i.innerHTML=``,e&&e.map(e=>{let n=document.createElement(`div`);n.className=`bg-[#0c0c0c] rounded-xl p-4`,n.innerHTML=`
        <h2 class="text-white">${e.title.romaji}</h2>
      `,i.appendChild(n),n.addEventListener(`click`,()=>{t.navigate(`/anime?id=${e.id}`)})})}}const y=[{label:`General`,handler:()=>{}},{label:`Account `,handler:()=>{}},{label:`Extensions `,handler:()=>{}}];async function b(e){let t=document.createElement(`div`);t.className=`relative h-full w-full p-4 space-y-4`,document.root.appendChild(t);let n=document.createElement(`div`);n.className=`h-full w-64 overflow-y-scroll space-y-4`,y.map(e=>{let t=document.createElement(`div`);t.className=`w-full px-4 py-2 bg-[#0d0d0d] text-white rounded-md text-left cursor-pointer`,t.textContent=e.label,n.appendChild(t)}),t.appendChild(n)}var x=function(e){return e[e.SIGNUP=0]=`SIGNUP`,e[e.SIGNIN=1]=`SIGNIN`,e[e.SIGNIN_VERIFICATION=5]=`SIGNIN_VERIFICATION`,e[e.FORGOT_PASSWORD=2]=`FORGOT_PASSWORD`,e[e.RESET_PASSWORD=3]=`RESET_PASSWORD`,e[e.SET_NEW_PASSWORD=4]=`SET_NEW_PASSWORD`,e}(x||{});async function S(e){let n=document.createElement(`div`);n.className=`h-full w-full flex flex-col items-center justify-center space-y-8`,document.root.appendChild(n);let i=x.SIGNUP,a=``,o=document.createElement(`div`);o.className=`w-full max-w-96 space-y-2`;let s=document.createElement(`div`);s.textContent=`Email`;let c=document.createElement(`div`);c.className=`flex space-x-4 w-full max-w-96 px-6 py-4 outline-2 outline-[#141414] rounded-xl has-[:invalid:not(:placeholder-shown):not(:focus)]:outline-red-800`,c.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-envelope size-6" viewBox="0 0 16 16">
    <path d="M0 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v.217l7 4.2 7-4.2V4a1 1 0 0 0-1-1zm13 2.383-4.708 2.825L15 11.105zm-.034 6.876-5.64-3.471L8 9.583l-1.326-.795-5.64 3.47A1 1 0 0 0 2 13h12a1 1 0 0 0 .966-.741M1 11.105l4.708-2.897L1 5.383z"/>
  </svg>`;let l=document.createElement(`input`);l.className=`w-full h-full bg-transparent text-[#c0c0c0] outline-none border-none`,l.type=`email`,l.required=!0,l.placeholder=`you@example.com`,c.appendChild(l),o.appendChild(s),o.appendChild(c),n.appendChild(o);let u=document.createElement(`div`);u.className=`w-full max-w-96 space-y-2`;let d=document.createElement(`div`);d.textContent=`Username`;let f=document.createElement(`div`);f.className=`flex space-x-4 w-full max-w-96 px-6 py-4 outline-2 outline-[#141414] rounded-xl has-[:invalid:not(:placeholder-shown):not(:focus)]:outline-red-800`,f.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person size-6" viewBox="0 0 16 16">
    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
  </svg>`;let p=document.createElement(`input`);p.className=`w-full h-full bg-transparent text-[#c0c0c0] outline-none border-none`,p.type=`text`,p.required=!0,p.placeholder=`Username`,f.appendChild(p),u.appendChild(d),u.appendChild(f),n.appendChild(u);let m=document.createElement(`div`);m.className=`w-full max-w-96 space-y-2`;let h=document.createElement(`div`);h.className=`flex justify-between`,h.innerHTML=`<span>Password</span>`;let g=document.createElement(`div`);g.className=`text-sm text-[#c0c0c0] cursor-pointer`,g.textContent=`Forgot Password?`,g.addEventListener(`click`,()=>{i=2,B()}),h.appendChild(g);let _=document.createElement(`div`);_.className=`group flex space-x-4 w-full max-w-96 px-6 py-4 outline-2 outline-[#141414] rounded-xl has-[:invalid:not(:placeholder-shown):not(:focus)]:outline-red-800`,_.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key size-6" viewBox="0 0 16 16">
    <path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"/>
    <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
  </svg>`;let v=document.createElement(`input`);v.className=`w-full h-full bg-transparent text-[#c0c0c0] outline-none border-none`,v.type=`password`,v.required=!0,v.placeholder=`Password`,_.appendChild(v),m.appendChild(h),m.appendChild(_),n.appendChild(m);let y=document.createElement(`div`);y.className=`w-full max-w-96 space-y-2`;let b=document.createElement(`div`);b.textContent=`Repeat Password`;let S=document.createElement(`div`);S.className=`group flex space-x-4 w-full max-w-96 px-6 py-4 outline-2 outline-[#141414] rounded-xl has-[:invalid:not(:placeholder-shown):not(:focus)]:outline-red-800`,S.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-key size-6" viewBox="0 0 16 16">
    <path d="M0 8a4 4 0 0 1 7.465-2H14a.5.5 0 0 1 .354.146l1.5 1.5a.5.5 0 0 1 0 .708l-1.5 1.5a.5.5 0 0 1-.708 0L13 9.207l-.646.647a.5.5 0 0 1-.708 0L11 9.207l-.646.647a.5.5 0 0 1-.708 0L9 9.207l-.646.647A.5.5 0 0 1 8 10h-.535A4 4 0 0 1 0 8m4-3a3 3 0 1 0 2.712 4.285A.5.5 0 0 1 7.163 9h.63l.853-.854a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.646-.647a.5.5 0 0 1 .708 0l.646.647.793-.793-1-1h-6.63a.5.5 0 0 1-.451-.285A3 3 0 0 0 4 5"/>
    <path d="M4 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
  </svg>`;let O=document.createElement(`input`);O.className=`w-full h-full bg-transparent text-[#c0c0c0] outline-none border-none`,O.type=`password`,O.required=!0,O.placeholder=`Password`,S.appendChild(O),y.addEventListener(`input`,()=>{O.value===v.value?O.setCustomValidity(``):O.setCustomValidity(`Passwords do not match`)}),y.appendChild(b),y.appendChild(S),n.appendChild(y);let k=document.createElement(`div`);k.className=`w-full max-w-96 text-[#c0c0c0] text-xl text-center space-y-4`;let A=document.createElement(`div`);A.textContent=`Verification code sent. Please check your inbox!`,k.appendChild(A);let j=document.createElement(`div`);j.className=`relative w-full max-w-96 flex justify-center space-x-2`;let M=6,N=document.createElement(`input`);N.type=`text`,N.maxLength=M,N.className=`absolute inset-0 opacity-0`;let P=[];for(let e=0;e<M;e++){let e=document.createElement(`div`);e.className=`w-12 h-12 bg-[#0d0d0d] text-[#c0c0c0] outline-2 outline-[#141414] rounded-xl flex items-center justify-center`,e.textContent=``,j.appendChild(e),P.push(e)}N.addEventListener(`input`,()=>{let e=N.value;for(let t=0;t<M;t++)P[t].textContent=e[t]||``}),j.appendChild(N),k.appendChild(j);let F=document.createElement(`div`);F.className=`flex items-center justify-center space-x-2 text-sm text-[#c0c0c0] cursor-pointer`,F.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat size-4" viewBox="0 0 16 16">
    <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41m-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9"/>
    <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5 5 0 0 0 8 3M3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9z"/>
  </svg>
  <span>Resend Verification Code</span>`,F.addEventListener(`click`,()=>{}),k.appendChild(F),n.appendChild(k);let I=document.createElement(`div`);I.className=`group relative w-full max-w-96 px-6 py-4 bg-[#f0f0f0] hover:bg-[#e0e0e0] text-[#0a0a0a] outline-2 outline-[#141414] shadow-md rounded-xl flex justify-center cursor-pointer transition-all duration-300 ease-in-out`,I.tabIndex=0,n.appendChild(I);let L=document.createElement(`div`);L.textContent=`Sign Up`,I.appendChild(L);let R=document.createElement(`div`);R.className=`absolute right-2 size-6 group-hover:-translate-x-2 opacity-0 group-hover:opacity-100 transition-all duration-300 ease-in-out`,R.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right-short size-6" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8"/>
  </svg>`,I.appendChild(R),I.addEventListener(`click`,async()=>{switch(i){case 0:if(l.value.trim().length==0&&p.value.trim().length==0&&v.value.trim().length==0&&O.value.trim().length==0)break;C(l.value.trim(),p.value.trim(),v.value.trim()),i=5;break;case 1:if(l.value.trim().length==0&&v.value.trim().length==0)break;let e=await w(l.value.trim(),v.value.trim());r.authenticate(e),t.navigate(`/`);break;case 2:if(l.value.trim().length==0)break;T(l.value.trim()),i=3;break;case 3:if(N.value.trim().length<6)break;a=await E(N.value.trim(),1),i=4;break;case 4:if(v.value.trim().length==0&&O.value.trim().length==0&&a==null)break;D(a,v.value.trim()),i=1;break;case 5:if(N.value.trim().length<6)break;a=await E(N.value.trim(),2),i=1;break}B()});let z=document.createElement(`div`);z.className=`w-full max-w-96 cursor-pointer`,z.textContent=`Switch to Login`,z.tabIndex=0,n.appendChild(z),z.addEventListener(`click`,()=>{switch(i){case 0:i=1;break;case 1:i=0;break;case 2:i=1;break;case 3:i=1;break;case 4:i=1;break;case 5:i=1;break}B()}),B();function B(){switch(o.style.display=`none`,u.style.display=`none`,m.style.display=`none`,g.style.display=`none`,y.style.display=`none`,k.style.display=`none`,l.value=``,p.value=``,v.value=``,O.value=``,N.value=``,i){case 0:o.style.display=`block`,u.style.display=`block`,m.style.display=`block`,y.style.display=`block`,L.textContent=`Sign Up`,z.style.display=`block`,z.textContent=`Already have an account? Sign In`;break;case 1:o.style.display=`block`,m.style.display=`block`,g.style.display=`block`,L.textContent=`Sign In`,z.style.display=`block`,z.textContent=`Don't have an account yet? Sign Up`;break;case 2:o.style.display=`block`,L.textContent=`Send Code`,z.style.display=`block`,z.textContent=`Back to Signin`;break;case 3:k.style.display=`block`,L.textContent=`Verify`,z.textContent=`Back to Signin`;break;case 4:m.style.display=`block`,y.style.display=`block`,L.textContent=`Set New Password`,z.textContent=`Back to Signin`;break;case 5:k.style.display=`block`,L.textContent=`Verify`,z.style.display=`block`,z.textContent=`Back to Signin`;break}}}async function C(e,t,n){let r=new FormData;r.append(`email`,e),r.append(`username`,t),r.append(`password`,n);let i=await fetch(`http://localhost:5000/auth/register`,{method:`POST`,body:r});console.log(await i.json())}async function w(e,t){let n=new FormData;n.append(`email`,e),n.append(`password`,t);let r=await fetch(`http://localhost:5000/auth/login`,{method:`POST`,body:n}),i=await r.json();return console.log(i),i}async function T(e){let t=new FormData;t.append(`email`,e);let n=await fetch(`http://localhost:5000/auth/password-reset-code`,{method:`POST`,body:t});console.log(await n.json())}async function E(e,t){let n=new FormData;n.append(`code`,e);let r=``;t===1?r=`http://localhost:5000/auth/verify-reset-code`:t===2&&(r=`http://localhost:5000/auth/verify-email`);let i=await fetch(r,{method:`POST`,body:n}),a=await i.json();return console.log(a),a.resetToken}async function D(e,t){let n=new FormData;n.append(`token`,e),n.append(`password`,t);let r=await fetch(`http://localhost:5000/auth/reset-password`,{method:`POST`,body:n});console.log(await r.json())}function O(){let e=document.createElement(`div`);e.className=`relative size-8`;let t=document.createElement(`div`);t.className=`absolute inset-0 cursor-pointer`,e.appendChild(t),n(),r.subscribe(e=>{e||n(),n(e)});function n(e){if(e){if(!e.avatar){t.innerHTML=`<div class="h-full w-full flex items-center justify-center bg-gray-300 rounded-full">${e.username.replaceAll(` `,``).substring(0,2).toUpperCase()}</div>`;return}}else{t.innerHTML=`<svg fill="#c0c0c0" viewBox="0 0 32 32" id="icon" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <defs> <style> .cls-1 { fill: none; } </style> </defs> <path id="_inner-path_" data-name="&lt;inner-path&gt;" class="cls-1" d="M8.0071,24.93A4.9958,4.9958,0,0,1,13,20h6a4.9959,4.9959,0,0,1,4.9929,4.93,11.94,11.94,0,0,1-15.9858,0ZM20.5,12.5A4.5,4.5,0,1,1,16,8,4.5,4.5,0,0,1,20.5,12.5Z"></path> <path d="M26.7489,24.93A13.9893,13.9893,0,1,0,2,16a13.899,13.899,0,0,0,3.2511,8.93l-.02.0166c.07.0845.15.1567.2222.2392.09.1036.1864.2.28.3008.28.3033.5674.5952.87.87.0915.0831.1864.1612.28.2417.32.2759.6484.5372.99.7813.0441.0312.0832.0693.1276.1006v-.0127a13.9011,13.9011,0,0,0,16,0V27.48c.0444-.0313.0835-.0694.1276-.1006.3412-.2441.67-.5054.99-.7813.0936-.1006.1894-.1972.28-.3008.0719-.0825.1522-.1547.2222-.2392ZM16,8a4.5,4.5,0,1,1-4.5,4.5A4.5,4.5,0,0,1,16,8ZM8.0071,24.93A4.9957,4.9957,0,0,1,13,20h6a4.9958,4.9958,0,0,1,4.9929,4.93,11.94,11.94,0,0,1-15.9858,0Z"></path> <rect id="_Transparent_Rectangle_" data-name="&lt;Transparent Rectangle&gt;" class="cls-1" width="32" height="32"></rect> </g></svg>`;return}t.innerHTML=`<img src="${e.avatar}" alt="Avatar" class="absolute inset-0 w-full h-full object-cover object-center" />`}return e}function k(){let e=document.createElement(`div`);e.className=`absolute top-10 right-0 h-fit w-64 p-4 hidden bg-[#0d0d0d] rounded-xl space-y-4`,e.toggleVisibility=()=>{e.classList.toggle(`hidden`)},e.appendChild(O());let n=0,i=document.createElement(`div`);i.className=`w-full px-2 py-1 rounded-md bg-white text-black cursor-pointer`,i.textContent=`Signup | Signin`,e.appendChild(i),i.addEventListener(`click`,()=>{if(n==0)return t.navigate(`/auth`);r.logout()}),a(),r.subscribe(e=>{if(!e)return a();a(e)});function a(e){if(!e){i.textContent=`Signup | Signin`,n=0;return}i.textContent=`Signout`,n=1}return e}function A(){let e=document.createElement(`div`);e.className=`absolute top-0 left-0 right-0 h-12 w-full px-4 flex items-center justify-end space-x-2 bg-gradient-to-t from-transparent to-[#0d0d0d]`;let n=document.createElement(`div`);n.className=`flex items-center justify-center w-8 h-8 rounded-full cursor-pointer`,n.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search size-5" viewBox="0 0 16 16">
    <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
  </svg>`,e.appendChild(n),n.addEventListener(`click`,()=>{t.navigate(`/search`)});let r=document.createElement(`div`);r.className=`flex items-center justify-center w-8 h-8 rounded-full cursor-pointer`,r.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-gear size-5" viewBox="0 0 16 16">
    <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"/>
    <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"/>
  </svg>`,e.appendChild(r),r.addEventListener(`click`,()=>{t.navigate(`/settings`)});let i=O(),a=k();return i.appendChild(a),i.addEventListener(`click`,e=>{e.target===a||a.contains(e.target)||a.toggleVisibility()}),e.appendChild(i),e}function j(){let e=document.getElementById(`root`);document.root=e,document.body.appendChild(A()),t.route(`/`,s),t.route(`/anime`,h),t.route(`/player`,_),t.route(`/search`,v),t.route(`/settings`,b),t.route(`/auth`,S),t.navigate(`/`),r.authenticate()}window.addEventListener(`DOMContentLoaded`,()=>{M()});function M(){typeof window.ensureAndroidProxyReady==`function`?window.ensureAndroidProxyReady().then(()=>{j()}):(console.warn(`initializeApp: window.ensureAndroidProxyReady is not defined. Network proxying may not work.`),console.log(`initializeApp: Proceeding without proxy. If you are on android expect CORS issues for external fetches, otherwise you are likely on desktop so just ignore this.`),j())}